<header class="bg-light shadow">
    <nav class=" py-2 d-flex justify-content-between align-items-center container mx-autto">
    <div class="d-flex gap-3 align-items-center">
        <img 
            src="../../../assets/logo.png"
            alt="logo"
            width="40"
            height="50"
        />
        <h5 
            class="m-0 " 
            style=" font-weight: 300; cursor: pointer;"
            routerLink="/productshow"
            >iPad 
        </h5>

        <h5 
            class="m-0 " 
            style=" font-weight: 300; cursor: pointer;"
            
            >iPhone 
        </h5>

        <h5 
            class="m-0 " 
            style=" font-weight: 300; cursor: pointer;"
            
            >Watch
        </h5>

        <h5 
            class="m-0 " 
            style=" font-weight: 300; cursor: pointer;"
            
            >AirPods
         </h5>
        
    </div>


        <ul class="d-flex gap-4 align-items-center m-0">
            <li class="list-unstyled" style="cursor: pointer;">
                <h5 class="m-0 " style="font-weight: 300;">Home</h5>
            </li>
            <li 
                class="list-unstyled" 
                style="cursor: pointer;"
                routerLink="/productshow"
            >
                <h5 class="m-0 " style="font-weight: 300;">Products</h5>
            </li>

            <li 
                class="list-unstyled" 
                style="cursor: pointer;"
                routerLink="/profile"
            >
                <h5 class="pi pi-user " style="font-weight: 300;"></h5>
            </li>

            <button 
                class="btn  btn-danger d-flex align-items-center justify-content-between gap-2"
                (click)="onClickLogout()"
            >
            logout
                <i class="pi pi-arrow-right" style="font-size: 1rem;"></i>
            </button>
        </ul>
    </nav>
</header>



<h1 class="text-center fw-semibold mt-5" style="font-size: 3.5rem;" *ngIf="!showSuccess">My Cart </h1>

<div class=" container mx-autto  mt-5 " *ngIf="!showSuccess" >
    <div class=" bg-danger rounded d-flex justify-content-between p-2 ">
        <div class="" style="width: 30rem;" >
            <h5 class="m-0 p-0 text-white text-center fw-normal"> Product</h5>
        </div>

        <div class="" style="width: 30rem;" >
            <h5 class="m-0 p-0 text-white text-center fw-normal"> Quantity</h5>
        </div>

        <div class="" style="width: 30rem;" >
            <h5 class="m-0 p-0 text-white text-center fw-normal" > Subtotal</h5>
        </div>
    </div>

    <div class="mt-3 d-flex gap-5 align-items-center w-100" *ngFor="let o of orders , index as i">
        <div 
        class=" text-center px-2 py-2  {{selectProduct[i]  ? 'bg-danger': 'border'}}" 
        style=" cursor:pointer"
        (click) = "onSelectP(i)"
        >
            <i class="pi pi-check text-white " style=" font-size: 2rem;"></i>
        </div>

        <div class=" d-flex justify-content-between shadow rounded px-3 w-100" > 
            <div class=" d-flex gap-2 align-items-center " style="width: 20rem;" >
                <img 
                [src]="o.image"
                alt="product image"
                width="200"
                height="200"
                style="object-fit: cover;"
                />
                <h5>{{o.name}}</h5>
            </div>
            <div class="d-flex align-items-center gap-3 justify-content-center" style="width: 21rem;" >
                <div
                    class="btn btn-light rounded-circle px-3 py-2"
                    (click)="onClickMinus(o._id, i)"
                >
                     -
                </div>
                    
                    <h5>{{amountProduct[i]}}</h5>

                <div 
                    class= "btn btn-light rounded-circle px-3 py-2"
                    (click)="onClickAdd(o._id , i)"
                >
                     +
                </div>
            </div>
            <div class=" d-flex align-items-center justify-content-center" style="width: 21rem;">
                {{costProduct[i] | currency: 'thb': '฿' :'1.2-2'}}
            </div>
        </div>
    </div>
    <div class="mt-5 rounded shadow p-4 d-flex justify-content-between align-items-center">
        <div class="d-flex align-items-center gap-3 ">
            <div 
            class=" text-center px-2 py-1 {{selectAll ? 'bg-danger' : 'border' }}" 
            style=" cursor:pointer"
            (click)="onSelectAll()"
            
            >
                <i class="pi pi-check text-white " style=" font-size: 1rem;"></i>
            </div>
            <h5 class="m-0"> Alls</h5>
        </div>
        
        <div class="d-flex align-items-center gap-3">
            <p class="m-0">total</p>
            <h4 class="m-0 text-danger">{{totalprice | currency: 'thb': '฿' :'1.2-2'}} </h4>

            <button
                class=" btn btn-danger text-white"
                (click)=" onCheckOut()"
            >
                Check out
            </button>
        </div>
    </div>
</div>

<div *ngIf="showSuccess" class="container mx-auto position-relative"> 
    <div 
        class="d-flex justify-content-center  mt-5 scale-up-center"  >

        <div 
            class="bg-danger text-white rounded p-5 shadow mt-5 position-relative 
             " 
            style="width: 34rem; height: 16rem; "
        >
            <i 
                class="pi pi-check text-white p-4 bg-dark rounded-circle position-absolute
                start-50 translate-middle" 
                 style="font-size: 2rem; top: -2px;">
            </i>

            <h3 class="text-center mb-4 fw-normal mt-2">การสั่งซื้อสำเร็จ</h3>
            <p class="text-center mb-5">
                ได้รับข้อมูลสั่งซื้อเรียบร้อยแล้ว เราจะเร่งดำเนินการจัดส่งสินค้าโดยเร็ว !
            </p>
    
            <button 
                class="btn btn-light d-flex gap-3 w-100 align-items-center 
                justify-content-center"
                routerLink="/productshow"
            >
    
                <i class="pi pi-home" style="font-size: 1rem;"></i>
                <p class="m-0">กลับไปหน้าหลัก</p>
            </button>
        </div>
    </div>

</div> 